(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/mte":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=n(r("nH/0")),i=r("Y+Aq");var u=(0,a.connect)(null,function mapDispatchToProps(e){return{onText:function onText(t,r,n,a){e((0,i.dropText)(n,a))},onError:function onError(t){return e((0,i.setError)(t))}}})(o.default);t.default=u},"0Fwj":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=LoadingIndicator;var a=n(r("17x9")),o=n(r("q1tI"));function LoadingIndicator(e){return e.visible?o.default.createElement("div",{className:"loadingIndicator cover"},o.default.createElement("div",null,o.default.createElement("i",{className:"fa fa-lg fa-spinner fa-pulse"}))):null}LoadingIndicator.propTypes={visible:a.default.bool}},"1tHF":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("17x9")),c=n(r("q1tI")),f=n(r("TSYQ")),d=function(e){function ForkButton(){return(0,a.default)(this,ForkButton),(0,i.default)(this,(0,u.default)(ForkButton).apply(this,arguments))}return(0,s.default)(ForkButton,e),(0,o.default)(ForkButton,[{key:"render",value:function render(){var e=this.props,t=e.canFork,r=e.saving,n=e.forking,a=e.onFork;return c.default.createElement("button",{type:"button",disabled:!t||r||n,onClick:a},c.default.createElement("i",{className:(0,f.default)({fa:!0,"fa-spinner":n,"fa-pulse":n,"fa-code-fork":!n,"fa-fw":!0})})," Fork")}}]),ForkButton}(c.default.Component);t.default=d,d.propTypes={canFork:l.default.bool,saving:l.default.bool,forking:l.default.bool,onFork:l.default.func}},"2P0N":function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r("cDf5")),i=n(r("RIqP")),u=n(r("lwsE")),s=n(r("W8MJ")),l=n(r("a1gu")),c=n(r("Nsbk")),f=n(r("7W2i")),d=n(r("PJYZ")),p=n(r("l7tp")),v=n(r("3Er1")),h=n(r("17x9")),g=n(r("kRpH")),m=n(r("q1tI")),E=n(r("KZZt")),y=r("4fzI"),S=n(r("TSYQ")),_=n(r("xeTH")),T=function(t){function Element(e,t){var r;(0,u.default)(this,Element),(r=(0,l.default)(this,(0,c.default)(Element).call(this,e,t)))._execFunction=r._execFunction.bind((0,d.default)((0,d.default)(r))),r._onMouseLeave=r._onMouseLeave.bind((0,d.default)((0,d.default)(r))),r._onMouseOver=r._onMouseOver.bind((0,d.default)((0,d.default)(r))),r._toggleClick=r._toggleClick.bind((0,d.default)((0,d.default)(r)));var n=e.value,a=e.name,o=e.deepOpen,i=e.parser,s=e.open||0===e.level||o||!!n&&i.opensByDefault(n,a);return r.state={open:s,deepOpen:o,value:n},r}return(0,f.default)(Element,t),(0,s.default)(Element,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){this.setState({open:e.open||e.deepOpen||this.state.open,deepOpen:e.deepOpen,value:e.value})}},{key:"componentWillUnmount",value:function componentWillUnmount(){a===this&&(a=null)}},{key:"_shouldAutoFocus",value:function _shouldAutoFocus(e,t){var r=e.focusPath,n=t.settings,a=t.focusPath;return r!==a&&a.indexOf(t.value)>-1&&n.autofocus}},{key:"componentDidMount",value:function componentDidMount(){this.props.settings.autofocus&&this._scrollIntoView()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this._shouldAutoFocus(e,this.props)&&this._scrollIntoView()}},{key:"_scrollIntoView",value:function _scrollIntoView(){var e=this,t=this.props,r=t.focusPath,n=t.value;r.length>0&&r[r.length-1]===n&&setTimeout(function(){return e.container.scrollIntoView()},0)}},{key:"_toggleClick",value:function _toggleClick(t){var r=this,n=t.shiftKey,o=n||!this.state.open,i=function update(){o?e.$node=r.state.value:delete e.$node,r.setState({open:o,deepOpen:n})};if(a&&a!==this){var u=a;return a=o?this:null,void u.forceUpdate(i)}a=o?this:null,i()}},{key:"_onMouseOver",value:function _onMouseOver(e){e.stopPropagation();var t=this.state.value;g.default.publish("HIGHLIGHT",{node:t,range:(0,y.nodeToRange)(this.props.parser,t)})}},{key:"_onMouseLeave",value:function _onMouseLeave(){var e=this.state.value;g.default.publish("CLEAR_HIGHLIGHT",{node:e,range:(0,y.nodeToRange)(this.props.parser,e)})}},{key:"_isFocused",value:function _isFocused(e,t,r,n){return 0!==e&&t.indexOf(r)>-1&&(!n||t[t.length-1]===r)}},{key:"_getProperties",value:function _getProperties(e,t){var r=this.props.settings,n=r.hideFunctions,a=r.hideEmptyKeys,o=r.hideLocationData,u=r.hideTypeKeys;return(0,i.default)(e.forEachProperty(t)).filter(function(e){var t=e.value;return!n||"function"!=typeof t}).filter(function(e){var t=e.value;return!a||null!=t}).filter(function(t){var r=t.key;return!o||!e.locationProps.has(r)}).filter(function(e){var t=e.key;return!u||"type"!==t})}},{key:"_execFunction",value:function _execFunction(){var e={error:null};try{e.value=this.state.value.call(this.props.parent),console.log(e.value)}catch(t){console.error('Unable to run "'.concat(this.props.name,'": '),t.message),e.error=t}this.setState(e)}},{key:"_createSubElement",value:function _createSubElement(e,t,r,n){return m.default.createElement(T,{key:e,name:r,focusPath:this.props.focusPath,deepOpen:this.state.deepOpen,value:t,computed:n,level:this.props.level+1,parser:this.props.parser,settings:this.props.settings,parent:this.props.value})}},{key:"render",value:function render(){var e=this,t=this.props,r=t.focusPath,n=t.parser,i=t.level,u=this.state,s=u.open,l=u.value,c=this._isFocused(i,r,l,s),f=null,d=null,h=null,g=null,E=!1,y=!1;if(l&&"object"===(0,o.default)(l)){if(Array.isArray(l))y=!0;else{var T=n.getNodeName(l);T&&(f=m.default.createElement("span",{className:"tokenName nc",onClick:this._toggleClick},T," ",a===this?m.default.createElement("span",{className:"ge",style:{fontSize:"0.8em"}}," = $node"):null)),y=n.nodeToRange(l)&&0!==i}if("number"==typeof l.length){if(l.length>0&&s){h="[",g="]";var b=this._getProperties(n,l).filter(function(e){return"length"!==e.key}).map(function(t){var r=t.key,n=t.value,a=t.computed;return e._createSubElement(r,n,Number.isInteger(+r)?void 0:r,a)});d=m.default.createElement("ul",{className:"value-body"},b)}else f=m.default.createElement("span",null,f,m.default.createElement(p.default,{array:l,onClick:this._toggleClick}));E=l.length>0}else if(s){h="{",g="}";var k=this._getProperties(n,l).map(function(t){var r=t.key,n=t.value,a=t.computed;return e._createSubElement(r,n,r,a)});d=m.default.createElement("ul",{className:"value-body"},k),E=k.length>0}else{var C=this._getProperties(n,l).map(function(e){return e.key});f=m.default.createElement("span",null,f,m.default.createElement(v.default,{onClick:this._toggleClick,keys:C})),E=C.length>0}}else"function"==typeof l?(f=m.default.createElement("span",{className:"ge invokeable",title:"Click to invoke function",onClick:this._execFunction},"(...)"),E=!1):(f=m.default.createElement("span",{className:"s"},(0,_.default)(l)),E=!1);var R=this.props.name?m.default.createElement("span",{className:"key",onClick:E?this._toggleClick:null},m.default.createElement("span",{className:"name nb"},this.props.computed?m.default.createElement("span",{title:"computed"},"*",this.props.name):this.props.name),m.default.createElement("span",{className:"p"},": ")):null,P=(0,S.default)({entry:!0,focused:c,toggable:E,open:s});return m.default.createElement("li",{ref:function ref(t){return e.container=t},className:P,onMouseOver:y?this._onMouseOver:null,onMouseLeave:y?this._onMouseLeave:null},R,m.default.createElement("span",{className:"value"},f),h?m.default.createElement("span",{className:"prefix p"}," ",h):null,d,g?m.default.createElement("div",{className:"suffix p"},g):null,this.state.error?m.default.createElement("span",null," ",m.default.createElement("i",{title:this.state.error.message,className:"fa fa-exclamation-triangle"})):null)}}]),Element}(m.default.Component);T.propTypes={name:h.default.string,value:h.default.any,computed:h.default.bool,open:h.default.bool,deepOpen:h.default.bool,focusPath:h.default.array.isRequired,level:h.default.number,parser:h.default.object.isRequired,settings:h.default.object.isRequired,parent:h.default.oneOfType([h.default.object,h.default.array])};var b=T=(0,E.default)(T);t.default=b}).call(this,r("yLpj"))},"3Er1":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=CompactObjectView;var a=n(r("17x9")),o=n(r("q1tI"));function CompactObjectView(e){var t=e.keys,r=e.onClick;return 0===t.length?o.default.createElement("span",{className:"p"},"{ }"):(t.length>5&&(t=t.slice(0,5).concat(["... +".concat(t.length-5)])),o.default.createElement("span",null,o.default.createElement("span",{className:"p"},"{"),o.default.createElement("span",{className:"compact placeholder ge",onClick:r},t.join(", ")),o.default.createElement("span",{className:"p"},"}")))}CompactObjectView.propTypes={keys:a.default.arrayOf(a.default.string).isRequired,onClick:a.default.func}},"4fzI":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.nodeToRange=nodeToRange,t.default=function getFocusPath(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;n.add(e);var o=[];var i=nodeToRange(r,e);if(i){if(!function isInRange(e,t){return t>=e[0]&&t<=e[1]}(i,t))return[];o.push(e)}var u=!0;var s=!1;var l=void 0;try{for(var c,f=r.forEachProperty(e)[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value.value;if(d&&"object"===(0,a.default)(d)&&!n.has(d)){var p=getFocusPath(d,t,r,n);if(p.length>0){o=o.concat(p);break}}}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}return o};var a=n(r("cDf5"));function nodeToRange(e,t){var r=e.nodeToRange(t);if(r)return r;if(t.length>0){var n=t[0]&&e.nodeToRange(t[0]),a=t[t.length-1]&&e.nodeToRange(t[t.length-1]);if(n&&a)return[n[0],a[1]]}}},"5KZM":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=ShareButton;var a=n(r("17x9")),o=n(r("q1tI"));function ShareButton(e){var t=e.onShareButtonClick,r=e.snippet;return o.default.createElement("button",{type:"button",disabled:!r,onClick:t},o.default.createElement("i",{className:"fa fa-share fa-fw"})," Share...")}ShareButton.propTypes={onShareButtonClick:a.default.func.isRequired,snippet:a.default.object}},"5Vml":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=r("Y+Aq"),i=r("d3et"),u=n(r("fQDW"));var s=(0,a.connect)(function mapStateToProps(e){return{visible:(0,i.showSettingsDialog)(e),parser:(0,i.getParser)(e),parserSettings:(0,i.getParserSettings)(e)}},function mapDispatchToProps(e){return{onSave:function onSave(t,r){return e((0,o.setParserSettings)(r))},onWantToClose:function onWantToClose(){return e((0,o.closeSettingsDialog)())}}})(u.default);t.default=s},"5bXW":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=Toolbar;var a=n(r("17x9")),o=n(r("q1tI")),i=n(r("cL48")),u=n(r("K+0+")),s=n(r("UObX")),l=n(r("QHvK")),c=n(r("Hmj2"));function Toolbar(e){var t=e.parser,r=e.transformer,n=e.showTransformer,a=t.id,f="";return t&&(t.version&&(a+="-"+t.version),t.homepage&&(a=o.default.createElement("a",{href:t.homepage,target:"_blank",rel:"noopener noreferrer"},a))),n&&(f=r.displayName,r.version&&(f+="-"+r.version),r.homepage&&(f=o.default.createElement("a",{href:r.homepage,target:"_blank",rel:"noopener noreferrer"},f)),f=o.default.createElement("span",null,"Transformer: ",f)),o.default.createElement("div",{id:"Toolbar"},o.default.createElement("h1",null,"AST Explorer"),o.default.createElement(s.default,e),o.default.createElement(i.default,e),o.default.createElement(u.default,e),o.default.createElement(l.default,e),o.default.createElement(c.default,e),o.default.createElement("a",{style:{minWidth:0},target:"_blank",rel:"noopener noreferrer",title:"Help",href:"https://github.com/fkling/astexplorer/blob/master/README.md"},o.default.createElement("i",{className:"fa fa-lg fa-question fa-fw"})),o.default.createElement("div",{id:"info",className:f?"small":""},"Parser: ",a,o.default.createElement("br",null),f))}Toolbar.propTypes={saving:a.default.bool,forking:a.default.bool,onSave:a.default.func,onFork:a.default.func,onParserChange:a.default.func,onParserSettingsButtonClick:a.default.func,onShareButtonClick:a.default.func,onTransformChange:a.default.func,onKeyMapChange:a.default.func,parser:a.default.object,transformer:a.default.object,showTransformer:a.default.bool,canSave:a.default.bool,canFork:a.default.bool}},"5obP":function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.owns=function owns(e){return e instanceof l},t.matchesURL=function matchesURL(){return null!==getIDAndRevisionFromHash()},t.updateHash=function updateHash(t){var r=t.getRevisionID(),n="/"+t.getSnippetID()+(r&&0!==r?"/"+r:"");e.location.hash=n},t.fetchFromURL=function fetchFromURL(){var e=getIDAndRevisionFromHash();if(e)return function fetchSnippet(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return(0,u.default)("/parse/".concat(e,"/").concat(t)).then(function(r){if(r.ok)return r.json();switch(r.status){case 404:throw new Error("Snippet with ID ".concat(e,"/").concat(t," doesn't exist."));default:throw new Error("Unknown error.")}}).then(function(e){return new l(e)})}(e.id,e.rev);return Promise.resolve(null)},t.create=function create(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))},t.update=function update(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))},t.fork=function fork(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))};var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("q1tI")),u=n(r("X32/")),s=r("hN6J");function getIDAndRevisionFromHash(){var t=e.location.hash.match(/^#\/(?!gist\/)([^/]+)(?:\/(latest|\d*))?/);return t?{id:t[1],rev:t[2]||0}:null}var l=function(){function Revision(e){(0,a.default)(this,Revision),this._data=e}return(0,o.default)(Revision,[{key:"canSave",value:function canSave(){return!1}},{key:"getPath",value:function getPath(){var e=this.getRevisionID();return"/"+this.getSnippetID()+(e&&0!==e?"/"+e:"")}},{key:"getSnippetID",value:function getSnippetID(){return this._data.snippetID}},{key:"getRevisionID",value:function getRevisionID(){return this._data.revisionID}},{key:"getTransformerID",value:function getTransformerID(){var e=this._data.toolID;return!e&&this.getTransformCode()?"jscodeshift":e}},{key:"getTransformCode",value:function getTransformCode(){var e=this._data.transform;return e||(this._data.toolID?(0,s.getTransformerByID)(this._data.toolID).defaultTransform:"")}},{key:"getParserID",value:function getParserID(){var e=this.getTransformerID();return e?(0,s.getTransformerByID)(e).defaultParserID:this._data.parserID}},{key:"getCode",value:function getCode(){var e=this.getParserID();return this._data.code||(0,s.getParserByID)(e).category.codeExample}},{key:"getParserSettings",value:function getParserSettings(){var e=this._data.settings;if(!e)return null;var t=e[this.getParserID()];return!!t&&JSON.parse(t)}},{key:"getShareInfo",value:function getShareInfo(){var e=this.getSnippetID(),t=this.getRevisionID();return i.default.createElement("div",{className:"shareInfo"},i.default.createElement("dl",null,i.default.createElement("dt",null,"Current Revision"),i.default.createElement("dd",null,i.default.createElement("input",{readOnly:!0,onFocus:function onFocus(e){return e.target.select()},value:"https://astexplorer.net/#/gist/".concat(e,"/").concat(t)})),i.default.createElement("dt",null,"Latest Revision"),i.default.createElement("dd",null,i.default.createElement("input",{readOnly:!0,onFocus:function onFocus(e){return e.target.select()},value:"https://astexplorer.net/#/gist/".concat(e,"/latest")}))))}}]),Revision}()}).call(this,r("yLpj"))},"9h1d":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("lwsE")),i=n(r("W8MJ")),u=n(r("a1gu")),s=n(r("Nsbk")),l=n(r("7W2i")),c=n(r("VrN/"));r("dfh3"),r("Lm6R"),r("mki7");var f=n(r("17x9")),d=n(r("kRpH")),p=n(r("q1tI")),v={printWidth:80,tabWidth:2,singleQuote:!1,trailingComma:"none",bracketSpacing:!0,jsxBracketSameLine:!1,parser:"babylon"},h=function(e){function Editor(e){var t;return(0,o.default)(this,Editor),(t=(0,u.default)(this,(0,s.default)(Editor).call(this,e))).state={value:e.value},t}return(0,l.default)(Editor,e),(0,i.default)(Editor,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){var t=this;e.value!==this.state.value&&this.setState({value:e.value},function(){return t.codeMirror.setValue(e.value)}),e.mode!==this.props.mode&&this.codeMirror.setOption("mode",e.mode),e.keyMap!==this.props.keyMap&&this.codeMirror.setOption("keyMap",e.keyMap),this._setError(e.error)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"getValue",value:function getValue(){return this.codeMirror&&this.codeMirror.getValue()}},{key:"_getErrorLine",value:function _getErrorLine(e){return e.loc?e.loc.line:e.lineNumber||e.line}},{key:"_setError",value:function _setError(e){if(this.codeMirror){var t=this.props.error;if(t){var r=this._getErrorLine(t);r&&this.codeMirror.removeLineClass(r-1,"text","errorMarker")}if(e){var n=this._getErrorLine(e);n&&this.codeMirror.addLineClass(n-1,"text","errorMarker")}}}},{key:"_posFromIndex",value:function _posFromIndex(e,t){return(this.props.posFromIndex?this.props:e).posFromIndex(t)}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this._CMHandlers=[],this._subscriptions=[],this.codeMirror=(0,c.default)(this.container,{keyMap:this.props.keyMap,value:this.state.value,mode:this.props.mode,lineNumbers:this.props.lineNumbers,readOnly:this.props.readOnly}),this._bindCMHandler("blur",function(t){e.props.enableFormatting&&r.e(9).then(function(){var e=[r("MlsZ"),r("T66i")];(function(e,r){var n=t.doc.getValue(),a=Object.assign({},v,{printWidth:t.display.maxLineLength,plugins:[r]});t.doc.setValue(e.format(n,a))}).apply(null,e)}).catch(r.oe)}),this._bindCMHandler("changes",function(){clearTimeout(e._updateTimer),e._updateTimer=setTimeout(e._onContentChange.bind(e),200)}),this._bindCMHandler("cursorActivity",function(){clearTimeout(e._updateTimer),e._updateTimer=setTimeout(e._onActivity.bind(e,!0),100)}),this._subscriptions.push(d.default.subscribe("PANEL_RESIZE",function(){e.codeMirror&&e.codeMirror.refresh()})),this.props.highlight&&(this._markerRange=null,this._mark=null,this._subscriptions.push(d.default.subscribe("HIGHLIGHT",function(t,r){var n=r.range;if(n){var o=e.codeMirror.getDoc();e._markerRange=n,e._mark&&e._mark.clear();var i=n.map(function(t){return e._posFromIndex(o,t)}),u=(0,a.default)(i,2),s=u[0],l=u[1];s&&l?e._mark=e.codeMirror.markText(s,l,{className:"marked"}):e._markerRange=e._mark=null}}),d.default.subscribe("CLEAR_HIGHLIGHT",function(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).range;(!r||e._markerRange&&r[0]===e._markerRange[0]&&r[1]===e._markerRange[1])&&(e._markerRange=null,e._mark&&(e._mark.clear(),e._mark=null))}))),this.props.error&&this._setError(this.props.error)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this._updateTimer),this._unbindHandlers(),this._markerRange=null,this._mark=null;var e=this.container;e.removeChild(e.children[0]),this.codeMirror=null}},{key:"_bindCMHandler",value:function _bindCMHandler(e,t){this._CMHandlers.push(e,t),this.codeMirror.on(e,t)}},{key:"_unbindHandlers",value:function _unbindHandlers(){for(var e=this._CMHandlers,t=0;t<e.length;t+=2)this.codeMirror.off(e[t],e[t+1]);this._subscriptions.forEach(d.default.unsubscribe)}},{key:"_onContentChange",value:function _onContentChange(){var e=this,t=this.codeMirror.getDoc(),r={value:t.getValue(),cursor:t.indexFromPos(t.getCursor())};this.setState({value:r.value},function(){return e.props.onContentChange(r)})}},{key:"_onActivity",value:function _onActivity(){this.props.onActivity(this.codeMirror.getDoc().indexFromPos(this.codeMirror.getCursor()))}},{key:"render",value:function render(){var e=this;return p.default.createElement("div",{className:"editor",ref:function ref(t){return e.container=t}})}}]),Editor}(p.default.Component);t.default=h,h.propTypes={value:f.default.string,highlight:f.default.bool,lineNumbers:f.default.bool,readOnly:f.default.bool,onContentChange:f.default.func,onActivity:f.default.func,posFromIndex:f.default.func,error:f.default.object,mode:f.default.string,enableFormatting:f.default.bool,keyMap:f.default.string},h.defaultProps={value:"",highlight:!0,lineNumbers:!0,readOnly:!1,mode:"javascript",keyMap:"default",onContentChange:function onContentChange(){},onActivity:function onActivity(){}}},C4TL:function(e,t,r){},DcZd:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("17x9")),c=n(r("q1tI")),f=function(e){function ErrorMessage(){return(0,a.default)(this,ErrorMessage),(0,i.default)(this,(0,u.default)(ErrorMessage).apply(this,arguments))}return(0,s.default)(ErrorMessage,e),(0,o.default)(ErrorMessage,[{key:"render",value:function render(){return this.props.error?c.default.createElement("div",{className:"cover"},c.default.createElement("div",{className:"errorMessage"},c.default.createElement("h3",null,c.default.createElement("i",{className:"fa fa-exclamation-triangle"})," ","Error"),c.default.createElement("div",null,this.props.error.message),c.default.createElement("div",{style:{marginTop:15}},c.default.createElement("button",{type:"button",onClick:this.props.onWantToClose},"OK")))):null}}]),ErrorMessage}(c.default.Component);t.default=f,f.propTypes={error:l.default.object,onWantToClose:l.default.func}},ERIh:function(e,t,r){"use strict";(function(e){var t=r("TqRt"),n=r("284h"),a=n(r("r/dV")),o=t(r("LTuh")),i=t(r("ts5B")),u=t(r("Ehmz")),s=t(r("W7TN")),l=t(r("RCJa")),c=t(r("/mte")),f=t(r("17x9")),d=t(r("kRpH")),p=t(r("q1tI")),v=t(r("5Vml")),h=t(r("rLSY")),g=t(r("vj7y")),m=t(r("Foq9")),E=t(r("uo2T")),y=t(r("7bO/")),S=t(r("IMrR")),_=t(r("wf8H")),T=r("/MKj"),b=r("Sl1E"),k=r("fvjX"),C=r("d3et"),R=r("c9yz"),P=r("Y+Aq"),N=r("i8i4"),O=n(r("RA28")),I=n(r("5obP")),D=t(r("mLOA"));function resize(){d.default.publish("PANEL_RESIZE")}function App(e){return p.default.createElement("div",null,p.default.createElement(u.default,null),p.default.createElement("div",{className:"dropTarget"+(e.hasError?" hasError":"")},p.default.createElement(c.default,null,p.default.createElement(l.default,null),p.default.createElement(v.default,null),p.default.createElement(h.default,null),p.default.createElement("div",{id:"root"},p.default.createElement(m.default,null),p.default.createElement(s.default,null),p.default.createElement(g.default,{className:"splitpane-content",vertical:!0,onResize:resize},p.default.createElement(g.default,{className:"splitpane",onResize:resize},p.default.createElement(i.default,null),p.default.createElement(o.default,null)),e.showTransformer?p.default.createElement(E.default,null):null)))))}App.propTypes={hasError:f.default.bool,showTransformer:f.default.bool};var w=(0,T.connect)(function(e){return{showTransformer:e.showTransformPanel,hasError:!!e.error}})(App),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.compose,A=(0,y.default)(),x=(0,k.createStore)((0,R.enableBatching)(b.astexplorer),(0,b.revive)(a.readState()),M((0,k.applyMiddleware)(A)));x.subscribe((0,S.default)(function(){var e=x.getState();(0,C.getRevision)(e)||a.writeState((0,b.persist)(e))})),A.run(_.default,new D.default([O,I])),(0,N.render)(p.default.createElement(T.Provider,{store:x},p.default.createElement(w,null)),document.getElementById("container")),e.onhashchange=function(){x.dispatch((0,P.loadSnippet)())},location.hash.length>1&&x.dispatch((0,P.loadSnippet)()),e.onbeforeunload=function(){var e=x.getState();if((0,C.canSaveTransform)(e))return"You have unsaved transform code. Do you really want to leave?"}}).call(this,r("yLpj"))},Ehmz:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=n(r("DcZd")),i=r("Y+Aq"),u=r("d3et");var s=(0,a.connect)(function mapStateToProps(e){return{error:(0,u.getError)(e)}},function mapDispatchToProps(e){return{onWantToClose:function onWantToClose(){return e((0,i.clearError)())}}})(o.default);t.default=s},Foq9:function(e,t,r){"use strict";(function(e){var n=r("284h"),a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("/MKj"),i=r("Y+Aq"),u=a(r("5bXW")),s=n(r("d3et")),l=r("gjtA");var c=(0,o.connect)(function mapStateToProps(e){var t=s.getParser(e);return{forking:s.isForking(e),saving:s.isSaving(e),canSave:s.canSave(e),canFork:s.canFork(e),category:t.category,parser:t,transformer:s.getTransformer(e),keyMap:s.getKeyMap(e),showTransformer:s.showTransformer(e),snippet:s.getRevision(e)}},function mapDispatchToProps(t){return{onParserChange:function onParserChange(e){t((0,i.setParser)(e)),(0,l.logEvent)("parser","select",e.id)},onCategoryChange:function onCategoryChange(e){t((0,i.selectCategory)(e)),(0,l.logEvent)("category","select",e.id)},onParserSettingsButtonClick:function onParserSettingsButtonClick(){t((0,i.openSettingsDialog)()),(0,l.logEvent)("parser","open_settings")},onShareButtonClick:function onShareButtonClick(){t((0,i.openShareDialog)()),(0,l.logEvent)("ui","open_share")},onTransformChange:function onTransformChange(e){t(e?(0,i.selectTransformer)(e):(0,i.hideTransformer)()),e&&(0,l.logEvent)("tool","select",e.id)},onKeyMapChange:function onKeyMapChange(e){t((0,i.setKeyMap)(e)),e&&(0,l.logEvent)("keyMap",e)},onSave:function onSave(){return t((0,i.save)(!1))},onFork:function onFork(){return t((0,i.save)(!0))},onNew:function onNew(){e.location.hash?e.location.hash="":t((0,i.reset)())}}})(u.default);t.default=c}).call(this,r("yLpj"))},Hmj2:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("17x9")),c=n(r("q1tI")),f=n(r("TSYQ")),d=["default","vim","emacs","sublime"],p=function(e){function KeyMapButton(){return(0,a.default)(this,KeyMapButton),(0,i.default)(this,(0,u.default)(KeyMapButton).apply(this,arguments))}return(0,s.default)(KeyMapButton,e),(0,o.default)(KeyMapButton,[{key:"render",value:function render(){var e=this;return c.default.createElement("div",{className:(0,f.default)({button:!0,menuButton:!0})},c.default.createElement("button",{type:"button"},c.default.createElement("i",{className:(0,f.default)({fa:!0,"fa-lg":!0,"fa-keyboard-o":!0})})," ",this.props.keyMap),c.default.createElement("ul",null,d.map(function(t){return c.default.createElement("li",{key:t,disabled:e.props.keyMap===t,onClick:function onClick(){return e.props.onKeyMapChange(t)}},c.default.createElement("button",{type:"button"},t))})))}}]),KeyMapButton}(c.default.Component);p.propTypes={onKeyMapChange:l.default.func,keyMap:l.default.string};var v=p;t.default=v},IMrR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function debounce(e){var t,r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){n=this;for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r=i,t||(t=setTimeout(function(){t=null,e.apply(n,r)},a))}}},Jac2:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("MVZn")),o=n(r("o0o1")),i=n(r("q1tI")),u=n(r("NSyc")),s={showInMenu:!0,_ignoredProperties:new Set,locationProps:new Set,opensByDefault:function opensByDefault(e,t){return!1},nodeToRange:function nodeToRange(e){return e.range},getNodeName:function getNodeName(e){return e.type},forEachProperty:o.default.mark(function forEachProperty(e){var t;return o.default.wrap(function forEachProperty$(r){for(;;)switch(r.prev=r.next){case 0:r.t0=o.default.keys(e);case 1:if((r.t1=r.t0()).done){r.next=9;break}if(t=r.t1.value,!this._ignoredProperties.has(t)){r.next=5;break}return r.abrupt("continue",1);case 5:return r.next=7,{value:e[t],key:t,computed:!1};case 7:r.next=1;break;case 9:case"end":return r.stop()}},forEachProperty,this)}),_getSettingsConfiguration:function _getSettingsConfiguration(e){var t=Object.keys(e);return t.length>0?{fields:t}:null},hasSettings:function hasSettings(){return null!=this._getSettingsConfiguration(this.getDefaultOptions())},getDefaultOptions:function getDefaultOptions(){return{}},_mergeDefaultOptions:function _mergeDefaultOptions(e,t){return(0,a.default)({},t,e)},renderSettings:function renderSettings(e,t){var r=this.getDefaultOptions(),n=this._getSettingsConfiguration(r);return n?(e=null==e?r:this._mergeDefaultOptions(e,r),i.default.createElement(u.default,{settingsConfiguration:n,parserSettings:e,onChange:t})):null}};t.default=s},"K+0+":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=r("hN6J"),p=function(e){function ParserButton(e){var t;return(0,a.default)(this,ParserButton),(t=(0,i.default)(this,(0,u.default)(ParserButton).call(this,e)))._onClick=t._onClick.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(ParserButton,e),(0,o.default)(ParserButton,[{key:"_onClick",value:function _onClick(e){var t=e.currentTarget.getAttribute("data-id");this.props.onParserChange((0,d.getParserByID)(t))}},{key:"render",value:function render(){var e=this,t=this.props.category.parsers.filter(function(e){return e.showInMenu});return f.default.createElement("div",{className:"button menuButton"},f.default.createElement("span",null,f.default.createElement("i",{className:"fa fa-lg fa-code fa-fw"})," ",this.props.parser.displayName),f.default.createElement("ul",null,t.map(function(t){return f.default.createElement("li",{key:t.id,onClick:e._onClick,"data-id":t.id},f.default.createElement("button",{type:"button"},t.displayName))})),f.default.createElement("button",{type:"button",title:"Parser Settings",style:{minWidth:0},disabled:!this.props.parser.hasSettings(),onClick:this.props.onParserSettingsButtonClick},f.default.createElement("i",{className:"fa fa-cog fa-fw"})))}}]),ParserButton}(f.default.Component);t.default=p,p.propTypes={onParserChange:c.default.func,onParserSettingsButtonClick:c.default.func,parser:c.default.object,category:c.default.object}},KZZt:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function RecursiveTreeElement(e){var t=new WeakMap;function addValue(e){t.has(e)?t.set(e,t.get(e)+1):t.set(e,1)}function removeValue(e){var r=t.get(e)-1;0===r?t.delete(e):t.set(e,r)}var r=function(r){function RecursiveElement(e){var r;(0,i.default)(this,RecursiveElement),r=(0,s.default)(this,(0,l.default)(RecursiveElement).call(this,e));var n=e.deepOpen,a=shouldAutoFocus(e);return e.value&&"object"===(0,o.default)(e.value)&&(t.has(e.value)&&(n=!1,a=!1),addValue(e.value)),r.state={deepOpen:n,open:a},r}return(0,c.default)(RecursiveElement,r),(0,u.default)(RecursiveElement,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.value;e&&"object"===(0,o.default)(e)&&removeValue(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){var r=e.deepOpen,n=shouldAutoFocus(e);!this.props.value!==e.value&&(this.props.value&&"object"===(0,o.default)(this.props.value)&&removeValue(this.props.value),e.value&&"object"===(0,o.default)(e.value)&&(t.has(e.value)&&(r=!1,n=!1),addValue(e.value))),this.setState({deepOpen:r,open:n})}},{key:"render",value:function render(){var t=this.props;return d.default.createElement(e,(0,a.default)({},t,{open:this.state.open,deepOpen:this.state.deepOpen}))}}]),RecursiveElement}(d.default.Component);return r.propTypes={deepOpen:f.default.bool,value:f.default.any},r};var a=n(r("pVnL")),o=n(r("cDf5")),i=n(r("lwsE")),u=n(r("W8MJ")),s=n(r("a1gu")),l=n(r("Nsbk")),c=n(r("7W2i")),f=n(r("17x9")),d=n(r("q1tI"));function shouldAutoFocus(e){var t=e.value,r=e.settings,n=e.focusPath;return!!r.autofocus&&n.indexOf(t)>-1}},LTuh:function(e,t,r){"use strict";var n=r("284h"),a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("/MKj"),i=a(r("XTzr")),u=r("Y+Aq"),s=n(r("d3et"));var l=(0,o.connect)(function mapStateToProps(e){return{code:s.getCode(e),parser:s.getParser(e),parserSettings:s.getParserSettings(e),cursor:s.getCursor(e)}},function mapDispatchToProps(e){return{onParseError:function onParseError(t){return e((0,u.setParseError)(t))}}})(i.default);t.default=l},NSyc:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=SettingsRenderer;var a=n(r("cDf5")),o=n(r("J4zp")),i=n(r("lSNA")),u=n(r("MVZn")),s=n(r("17x9")),l=n(r("q1tI")),c=function identity(e){return e};function defaultUpdater(e,t,r){return(0,u.default)({},e,(0,i.default)({},t,r))}function arrayUpdater(e,t,r){return e=new Set(e),r?e.add(t):e.delete(t),Array.from(e)}function SettingsRenderer(e){var t=e.settingsConfiguration,r=e.parserSettings,n=e.onChange,s=t.title,f=t.fields,d=t.required,p=void 0===d?new Set:d,v=t.update,h=void 0===v?function getUpdateStrategy(e){return Array.isArray(e)?arrayUpdater:defaultUpdater}(r):v,g=(t.values||function getValuesFromSettings(e){return Array.isArray(e)?function valuesFromArray(e){return e.reduce(function(t,r){return t[r]=e.indexOf(r)>-1,t},{})}(e):e})(r);return l.default.createElement("div",null,s?l.default.createElement("h4",null,s):null,l.default.createElement("ul",{className:"settings"},f.map(function(e){if("string"==typeof e)return l.default.createElement("li",{key:e},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",readOnly:p.has(e),disabled:p.has(e),checked:g[e],onChange:function onChange(t){var a=t.target;return n(h(r,e,a.checked))}})," ",e));if(Array.isArray(e)){var t=(0,o.default)(e,3),s=t[0],f=t[1],d=t[2],v=void 0===d?c:d;return l.default.createElement("li",{key:s},l.default.createElement("label",null,s,": ",l.default.createElement("select",{onChange:function onChange(e){var t=e.target;return n(h(r,s,v(t.value)))},value:g[s]},Array.isArray(f)?f.map(function(e){return l.default.createElement("option",{key:e,value:e},e)}):Object.keys(f).map(function(e){return l.default.createElement("option",{key:e,value:f[e]},e)}))))}return e&&"object"===(0,a.default)(e)?l.default.createElement(SettingsRenderer,{key:e.key,settingsConfiguration:e,parserSettings:e.settings(r),onChange:function onChange(t){return n((0,u.default)({},r,(0,i.default)({},e.key,t)))}}):void 0})))}SettingsRenderer.propTypes={settingsConfiguration:s.default.object.isRequired,parserSettings:s.default.oneOfType([s.default.object,s.default.array]).isRequired,onChange:s.default.func.isRequired}},QHvK:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=n(r("TSYQ")),p=r("hN6J"),v=function(e){function TransformButton(e){var t;return(0,a.default)(this,TransformButton),(t=(0,i.default)(this,(0,u.default)(TransformButton).call(this,e)))._onClick=t._onClick.bind((0,l.default)((0,l.default)(t))),t._onToggle=t._onToggle.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(TransformButton,e),(0,o.default)(TransformButton,[{key:"_onClick",value:function _onClick(e){var t,r=e.target;t="li"===r.nodeName.toLowerCase()?r.children[0].value:r.value,this.props.onTransformChange((0,p.getTransformerByID)(t))}},{key:"_onToggle",value:function _onToggle(){this.props.transformer&&this.props.onTransformChange(null)}},{key:"render",value:function render(){var e=this;return f.default.createElement("div",{className:(0,d.default)({button:!0,menuButton:!0,disabled:!this.props.category.transformers.length})},f.default.createElement("button",{type:"button",onClick:this._onToggle,disabled:!this.props.category.transformers.length},f.default.createElement("i",{className:(0,d.default)({fa:!0,"fa-lg":!0,"fa-toggle-off":!this.props.showTransformer,"fa-toggle-on":this.props.showTransformer,"fa-fw":!0})})," Transform"),!!this.props.category.transformers.length&&f.default.createElement("ul",null,this.props.category.transformers.map(function(t){return f.default.createElement("li",{key:t.id,className:(0,d.default)({selected:e.props.showTransformer&&e.props.transformer===t}),onClick:e._onClick},f.default.createElement("button",{value:t.id,type:"button"},t.displayName))})))}}]),TransformButton}(f.default.Component);t.default=v,v.propTypes={category:c.default.object,transformer:c.default.object,showTransformer:c.default.bool,onTransformChange:c.default.func}},QyDd:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r("lwsE")),i=n(r("W8MJ")),u=n(r("a1gu")),s=n(r("Nsbk")),l=n(r("iWIM")),c=n(r("7W2i")),f=n(r("VrN/")),d=n(r("17x9")),p=n(r("9h1d"));r("9rZZ"),r("o0tJ");var v=function(e){function JSCodeshiftEditor(e){var t;return(0,o.default)(this,JSCodeshiftEditor),t=(0,u.default)(this,(0,s.default)(JSCodeshiftEditor).call(this,e)),function loadTern(){r.e(8).then(function(){(function(e){var t=[r("m3Q/"),r("J8f/"),r("sOAE")];(function(t,n,o){e.acorn=o,r.e(6).then(function(){var t=[r("6Ocj"),r("/TnZ"),r("shu4"),r("zQ+v"),r("4gNL")];(function(t,r,n,o,i){e.tern=t,t.registerPlugin("transformer",function(e){e.on("afterLoad",function(e){var t=e.scope.props.transformer;if(t){var r=t.getFunctionType(),a=n.cx();r.propagate(new n.IsCallee(n.cx().topScope,[a.definitions.jscodeshift.file,a.definitions.jscodeshift.apiObject],null,n.ANull))}})}),a=new f.default.TernServer({defs:[o,i],plugins:{transformer:{strong:!0}}})}).apply(null,t)}).catch(r.oe)}).apply(null,t)}).call(this,r("yLpj"))}).catch(r.oe)}(),t}return(0,c.default)(JSCodeshiftEditor,e),(0,i.default)(JSCodeshiftEditor,[{key:"componentDidMount",value:function componentDidMount(){(0,l.default)((0,s.default)(JSCodeshiftEditor.prototype),"componentDidMount",this).call(this),this.codeMirror.setOption("extraKeys",{"Ctrl-Space":function CtrlSpace(e){return a&&a.complete(e)},"Ctrl-I":function CtrlI(e){return a&&a.showType(e)},"Ctrl-O":function CtrlO(e){return a&&a.showDocs(e)}}),this._bindCMHandler("cursorActivity",function(e){a&&a.updateArgHints(e)})}}]),JSCodeshiftEditor}(p.default);t.default=v,v.propTypes={value:d.default.string,highlight:d.default.bool,lineNumbers:d.default.bool,readOnly:d.default.bool,onContentChange:d.default.func,onActivity:d.default.func,posFromIndex:d.default.func,error:d.default.object,mode:d.default.string,keyMap:d.default.string},v.defaultProps=Object.assign({},p.default.defaultProps,{highlight:!1})},RA28:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.owns=function owns(e){return e instanceof l},t.matchesURL=function matchesURL(){return null!==getIDAndRevisionFromHash()},t.fetchFromURL=function fetchFromURL(){var e=getIDAndRevisionFromHash();if(!e)return Promise.resolve(null);return fetchSnippet(e.id,e.rev)},t.create=function create(e){return(0,u.default)("/gist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e.json();throw new Error("Unable to create snippet.")}).then(function(e){return new l(e)})},t.update=function update(e,t){return fetchSnippet(e.getSnippetID()).then(function(r){return r.getTransformerID()&&!t.toolID&&(t.transform=null),(0,u.default)("/gist/".concat(e.getSnippetID()),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw new Error("Unable to update snippet.")}).then(function(e){return new l(e)})})},t.fork=function fork(e,t){return(0,u.default)("/gist/".concat(e.getSnippetID(),"/").concat(e.getRevisionID()),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw new Error("Unable to fork snippet.")}).then(function(e){return new l(e)})};var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("q1tI")),u=n(r("X32/")),s=r("hN6J");function getIDAndRevisionFromHash(){var t=e.location.hash.match(/^#\/gist\/([^/]+)(?:\/([^/]+))?/);return t?{id:t[1],rev:t[2]}:null}function fetchSnippet(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return(0,u.default)("/gist/".concat(e)+(t?"/".concat(t):""),{method:"GET"}).then(function(r){if(r.ok)return r.json();switch(r.status){case 404:throw new Error("Snippet with ID ".concat(e,"/").concat(t," doesn't exist."));default:throw new Error("Unknown error.")}}).then(function(e){return new l(e)})}var l=function(){function Revision(e){(0,a.default)(this,Revision),this._gist=e,this._config=JSON.parse(e.files["astexplorer.json"].content)}return(0,o.default)(Revision,[{key:"canSave",value:function canSave(){return!0}},{key:"getPath",value:function getPath(){return"/gist/".concat(this.getSnippetID(),"/").concat(this.getRevisionID())}},{key:"getSnippetID",value:function getSnippetID(){return this._gist.id}},{key:"getRevisionID",value:function getRevisionID(){return this._gist.history[0].version}},{key:"getTransformerID",value:function getTransformerID(){return this._config.toolID}},{key:"getTransformCode",value:function getTransformCode(){var e=this._gist.files["transform.js"];return e?e.content:""}},{key:"getParserID",value:function getParserID(){return this._config.parserID}},{key:"getCode",value:function getCode(){return null==this._code&&(this._code=function getSource(e,t){switch(e.v){case 1:return t.files["code.js"].content;case 2:var r=(0,s.getParserByID)(e.parserID).category.fileExtension;return t.files["source.".concat(r)].content}}(this._config,this._gist)||""),this._code}},{key:"getParserSettings",value:function getParserSettings(){return this._config.settings[this._config.parserID]}},{key:"getShareInfo",value:function getShareInfo(){var e=this.getSnippetID(),t=this.getRevisionID();return i.default.createElement("div",{className:"shareInfo"},i.default.createElement("dl",null,i.default.createElement("dt",null,"Current Revision"),i.default.createElement("dd",null,i.default.createElement("input",{readOnly:!0,onFocus:function onFocus(e){return e.target.select()},value:"https://astexplorer.net/#/gist/".concat(e,"/").concat(t)})),i.default.createElement("dt",null,"Latest Revision"),i.default.createElement("dd",null,i.default.createElement("input",{readOnly:!0,onFocus:function onFocus(e){return e.target.select()},value:"https://astexplorer.net/#/gist/".concat(e,"/latest")})),i.default.createElement("dt",null,"Gist"),i.default.createElement("dd",null,i.default.createElement("input",{readOnly:!0,onFocus:function onFocus(e){return e.target.select()},value:"https://gist.github.com/".concat(e,"/").concat(t)}))))}}]),Revision}()}).call(this,r("yLpj"))},RCJa:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=n(r("0Fwj")),i=r("d3et");var u=(0,a.connect)(function mapStateToProps(e){return{visible:(0,i.isLoadingSnippet)(e)}})(o.default);t.default=u},Sl1E:function(e,t,r){"use strict";var n=r("284h"),a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.persist=function persist(e){return(0,i.default)({},pick(e,"showTransformPanel","parserSettings","parserPerCategory"),{workbench:(0,i.default)({},pick(e.workbench,"parser","code","keyMap"),{transform:pick(e.workbench.transform,"code","transformer")})})},t.revive=function revive(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return(0,i.default)({},e,{workbench:(0,i.default)({},e.workbench,{initialCode:e.workbench.code,parserSettings:e.parserSettings[e.workbench.parser]||null,transform:(0,i.default)({},e.workbench.transform,{initialCode:e.workbench.transform.code})})})},t.astexplorer=function astexplorer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return{showSettingsDialog:function showSettingsDialog(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.showSettingsDialog;switch((arguments.length>1?arguments[1]:void 0).type){case u.OPEN_SETTINGS_DIALOG:return!0;case u.CLOSE_SETTINGS_DIALOG:return!1;default:return e}}(e.showSettingsDialog,t),showShareDialog:function showShareDialog(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.showShareDialog;switch((arguments.length>1?arguments[1]:void 0).type){case u.OPEN_SHARE_DIALOG:return!0;case u.CLOSE_SHARE_DIALOG:return!1;default:return e}}(e.showShareDialog,t),loadingSnippet:function loadSnippet(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.loadingSnippet;switch((arguments.length>1?arguments[1]:void 0).type){case u.START_LOADING_SNIPPET:return!0;case u.DONE_LOADING_SNIPPET:return!1;default:return e}}(e.loadingSnippet,t),saving:function saving(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.saving,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.START_SAVE:return!t.fork;case u.END_SAVE:return!1;default:return e}}(e.saving,t),forking:function forking(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.forking,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.START_SAVE:return t.fork;case u.END_SAVE:return!1;default:return e}}(e.forking,t),cursor:function cursor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.cursor,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_CURSOR:return t.cursor;case u.SET_CODE:return null!=t.cursor&&0!==t.cursor?t.cursor:e;case u.RESET:case u.SET_SNIPPET:case u.CLEAR_SNIPPET:return null;default:return e}}(e.cursor,t),error:function error(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.error,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_ERROR:return t.error;case u.CLEAR_ERROR:return null;default:return e}}(e.error,t),showTransformPanel:function showTransformPanel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.showTransformPanel,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SELECT_TRANSFORMER:return!0;case u.HIDE_TRANSFORMER:case u.SELECT_CATEGORY:case u.CLEAR_SNIPPET:return!1;case u.SET_SNIPPET:return Boolean(t.revision.getTransformerID());default:return e}}(e.showTransformPanel,t),activeRevision:function activeRevision(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.selectedRevision,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_SNIPPET:return t.revision;case u.SELECT_CATEGORY:case u.CLEAR_SNIPPET:case u.RESET:return null;default:return e}}(e.activeRevision,t),parserPerCategory:function parserPerCategory(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.parserPerCategory,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_PARSER:return(0,i.default)({},e,(0,o.default)({},t.parser.category.id,t.parser.id));default:return e}}(e.parserPerCategory,t),parserSettings:function parserSettings(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.parserSettings,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t.type){case u.SET_PARSER_SETTINGS:return r.activeRevision?e:(0,i.default)({},e,(0,o.default)({},r.workbench.parser,t.settings));default:return e}}(e.parserSettings,t,e),workbench:function workbench(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.workbench,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;function parserFromCategory(e){var t=r.parserPerCategory[e.id]||(0,s.getDefaultParser)(e).id;return{parser:t,parserSettings:r.parserSettings[t]||null,code:e.codeExample,initialCode:e.codeExample}}switch(t.type){case u.SELECT_CATEGORY:return(0,i.default)({},e,parserFromCategory(t.category));case u.DROP_TEXT:return(0,i.default)({},e,parserFromCategory((0,s.getCategoryByID)(t.categoryId)),{code:t.text,initialCode:t.text});case u.SET_PARSE_ERROR:return(0,i.default)({},e,{parseError:t.error});case u.SET_PARSER_SETTINGS:return(0,i.default)({},e,{parserSettings:t.settings});case u.SET_PARSER:var n=(0,i.default)({},e,{parser:t.parser.id});return t.parser!==e.parser&&(n.parserSettings=r.parserSettings[t.parser.id]||null),n;case u.SET_CODE:return(0,i.default)({},e,{code:t.code});case u.SELECT_TRANSFORMER:var a=t.transformer.defaultParserID!==e.parser,o=t.transformer.id!==e.transform.transformer;if(!a&&!o)return e;var l=(0,i.default)({},e);if(a&&(l.parser=t.transformer.defaultParserID,l.parserSettings=r.parserSettings[t.transformer.defaultParserID]||null),o){var f=r.activeRevision&&r.activeRevision.getTransformerID()===t.transformer.id;l.transform=(0,i.default)({},e.transform,{transformer:t.transformer.id,code:f?e.transform.code:t.transformer.defaultTransform,initialCode:f?r.activeRevision.getTransformCode():t.transformer.defaultTransform})}return l;case u.SET_TRANSFORM:return(0,i.default)({},e,{transform:(0,i.default)({},e.transform,{code:t.code})});case u.SET_SNIPPET:var d=t.revision,p=d.getTransformerID(),v=d.getParserID();return(0,i.default)({},e,{parser:v,parserSettings:d.getParserSettings()||r.parserSettings[v]||null,code:d.getCode(),initialCode:d.getCode(),transform:(0,i.default)({},e.transform,{transformer:p,code:d.getTransformCode(),initialCode:d.getTransformCode()})});case u.CLEAR_SNIPPET:case u.RESET:var h=Boolean(u.RESET),g=(0,i.default)({},e,{parserSettings:r.parserSettings[e.parser]||null,code:(0,s.getParserByID)(e.parser).category.codeExample,initialCode:(0,s.getParserByID)(e.parser).category.codeExample});if(r.activeRevision&&r.activeRevision.getTransformerID()||h&&e.transform.transformer){var m=(0,s.getTransformerByID)(e.transform.transformer);g.transform=(0,i.default)({},e.transform,{code:m.defaultTransform,initialCode:m.defaultTransform})}return g;case u.SET_KEY_MAP:return(0,i.default)({},e,{keyMap:t.keyMap});default:return e}}(e.workbench,t,e),enableFormatting:function format(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.enableFormatting;return(arguments.length>1?arguments[1]:void 0).type===u.TOGGLE_FORMATTING?!e:e}(e.enableFormatting,t,e)}};var o=a(r("lSNA")),i=a(r("MVZn")),u=n(r("Y+Aq")),s=r("hN6J"),l=(0,s.getDefaultParser)((0,s.getCategoryByID)("javascript")),c={showSettingsDialog:!1,showShareDialog:!1,loadingSnippet:!1,forking:!1,saving:!1,cursor:null,error:null,showTransformPanel:!1,selectedRevision:null,parserSettings:{},parserPerCategory:{},workbench:{parser:l.id,parserSettings:null,parseError:null,code:l.category.codeExample,keyMap:"default",initialCode:l.category.codeExample,transform:{code:"",initialCode:"",transformer:null}},enableFormatting:!1};function pick(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(t,r){return t[r]=e[r],t},{})}},UGRl:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("lwsE")),i=n(r("W8MJ")),u=n(r("a1gu")),s=n(r("Nsbk")),l=n(r("7W2i")),c=n(r("2P0N")),f=n(r("17x9")),d=n(r("q1tI")),p=n(r("kRpH")),v=r("gjtA");r("C4TL");var h=function(e){function Tree(e){var t;return(0,o.default)(this,Tree),(t=(0,u.default)(this,(0,s.default)(Tree).call(this,e))).state={autofocus:!0,hideFunctions:!0},t}return(0,l.default)(Tree,e),(0,i.default)(Tree,[{key:"_setOption",value:function _setOption(e,t){this.setState((0,a.default)({},e,t.target.checked)),(0,v.logEvent)("tree_view_settings",t.target.checked?"enabled":"disabled",e)}},{key:"render",value:function render(){return d.default.createElement("div",{className:"tree-visualization container"},d.default.createElement("div",{className:"toolbar"},d.default.createElement("label",{title:"Auto open the node at the cursor in the source code"},d.default.createElement("input",{type:"checkbox",checked:this.state.autofocus,onChange:this._setOption.bind(this,"autofocus")}),"Autofocus"),"​",d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:this.state.hideFunctions,onChange:this._setOption.bind(this,"hideFunctions")}),"Hide methods"),"​",d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:this.state.hideEmptyKeys,onChange:this._setOption.bind(this,"hideEmptyKeys")}),"Hide empty keys"),"​",d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:this.state.hideLocationData,onChange:this._setOption.bind(this,"hideLocationData")}),"Hide location data"),"​",d.default.createElement("label",null,d.default.createElement("input",{type:"checkbox",checked:this.state.hideTypeKeys,onChange:this._setOption.bind(this,"hideTypeKeys")}),"Hide type keys")),d.default.createElement("ul",{onMouseLeave:function onMouseLeave(){p.default.publish("CLEAR_HIGHLIGHT")}},d.default.createElement(c.default,{focusPath:this.props.focusPath,value:this.props.ast,level:0,parser:this.props.parser,settings:this.state})))}}]),Tree}(d.default.Component);t.default=h,h.propTypes={focusPath:f.default.array,ast:f.default.oneOfType([f.default.array,f.default.object]),parser:f.default.object}},UObX:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=SnippetButton;var a=n(r("17x9")),o=n(r("q1tI")),i=n(r("1tHF")),u=n(r("WXfs")),s=n(r("WlsH")),l=n(r("5KZM")),c=n(r("TSYQ"));function SnippetButton(e){var t=e.canFork&&!e.canSave,r=e.saving||e.forking;return o.default.createElement("div",{className:"button menuButton"},o.default.createElement("span",null,o.default.createElement("i",{className:"fa fa-lg fa-file-code-o fa-fw"})," Snippet"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(u.default,e)),o.default.createElement("li",null,o.default.createElement(s.default,e)),o.default.createElement("li",null,o.default.createElement(i.default,e)),o.default.createElement("li",null,o.default.createElement(l.default,e))),o.default.createElement("button",{type:"button",title:t?"Fork":"Save",style:{minWidth:0},disabled:r||!(e.canSave||e.canFork),onClick:t?e.onFork:e.onSave},o.default.createElement("i",{className:(0,c.default)({fa:!0,"fa-spinner":r,"fa-pulse":r,"fa-floppy-o":!r&&!t,"fa-code-fork":!r&&t,"fa-fw":!0})})))}SnippetButton.propTypes={canFork:a.default.bool,canSave:a.default.bool,forking:a.default.bool,onFork:a.default.func,onSave:a.default.func,saving:a.default.bool}},W7TN:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=r("/MKj"),p=r("d3et"),v={backgroundColor:"transparent",border:"none",cursor:"pointer",float:"left",fontSize:14,margin:0,padding:0,paddingRight:10},h=function(e){function GistBanner(e){var t;return(0,a.default)(this,GistBanner),(t=(0,i.default)(this,(0,u.default)(GistBanner).call(this,e))).state={visible:!0},t._hide=t._hide.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(GistBanner,e),(0,o.default)(GistBanner,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){var t=e.revision,r=this.props.revision;!t||r&&t.getSnippetID()===r.getSnippetID()||this.setState({visible:!0})}},{key:"_hide",value:function _hide(){this.setState({visible:!1})}},{key:"render",value:function render(){return this.state.visible?!this.props.revision||this.props.revision.canSave()?null:f.default.createElement("div",{className:"banner"},"This snippet is ",f.default.createElement("strong",null,"read-only"),". You can still save changes by forking it.",f.default.createElement("button",{style:v,onClick:this._hide},f.default.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))):null}}]),GistBanner}(f.default.Component);h.propTypes={revision:c.default.object};var g=(0,d.connect)(function(e){return{revision:(0,p.getRevision)(e)}})(h);t.default=g},WXfs:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=SaveButton;var a=n(r("17x9")),o=n(r("q1tI"));function SaveButton(e){var t=e.saving,r=e.forking,n=e.onNew;return o.default.createElement("button",{type:"button",disabled:t||r,onClick:n},o.default.createElement("i",{className:"fa fa-file-o fa-fw"})," New")}SaveButton.propTypes={saving:a.default.bool,forking:a.default.bool,onNew:a.default.func}},WeJq:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("VrN/"));r("+dQi"),r("y8iW"),r("SJVZ"),r("rt3J");var c=n(r("17x9")),f=n(r("kRpH")),d=n(r("q1tI")),p=function(e){function Editor(){return(0,a.default)(this,Editor),(0,i.default)(this,(0,u.default)(Editor).apply(this,arguments))}return(0,s.default)(Editor,e),(0,o.default)(Editor,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){if(e.value!==this.codeMirror.getValue()){var t=this.codeMirror.getScrollInfo();this.codeMirror.setValue(e.value),this.codeMirror.scrollTo(t.left,t.top)}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this._subscriptions=[],this.codeMirror=(0,l.default)(this.container,{value:this.props.value,mode:{name:"javascript",json:!0},readOnly:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),this._subscriptions.push(f.default.subscribe("PANEL_RESIZE",function(){e.codeMirror&&e.codeMirror.refresh()}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._unbindHandlers();var e=this.container;e.removeChild(e.children[0]),this.codeMirror=null}},{key:"_unbindHandlers",value:function _unbindHandlers(){this._subscriptions.forEach(f.default.unsubscribe)}},{key:"render",value:function render(){var e=this;return d.default.createElement("div",{id:"JSONEditor",className:this.props.className,ref:function ref(t){return e.container=t}})}}]),Editor}(d.default.Component);t.default=p,p.propTypes={value:c.default.string,className:c.default.string}},WlsH:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=SaveButton;var a=n(r("17x9")),o=n(r("q1tI")),i=n(r("TSYQ"));function SaveButton(e){var t=e.canSave,r=e.saving,n=e.forking,a=e.onSave;return o.default.createElement("button",{type:"button",disabled:!t||r||n,onClick:a},o.default.createElement("i",{className:(0,i.default)({fa:!0,"fa-spinner":r,"fa-pulse":r,"fa-floppy-o":!r,"fa-fw":!0})})," Save")}SaveButton.propTypes={canSave:a.default.bool,saving:a.default.bool,forking:a.default.bool,onSave:a.default.func}},"X32/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function api(e,t){return fetch("".concat(n,"/api/v1").concat(e),t)},r("LpSC");var n=""},XTzr:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=n(r("TSYQ")),p=n(r("eC9q")),v=n(r("4fzI"));var h=function(e){function ASTOutput(e,t){var r;return(0,a.default)(this,ASTOutput),(r=(0,i.default)(this,(0,u.default)(ASTOutput).call(this,e,t)))._changeOutput=r._changeOutput.bind((0,l.default)((0,l.default)(r))),r.state={output:0,parseError:null,ast:null,parseTime:null},r}return(0,s.default)(ASTOutput,e),(0,o.default)(ASTOutput,[{key:"componentDidMount",value:function componentDidMount(){this._parse(this.props.parser,this.props.code,this.props.parserSettings)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){e.parser!==this.props.parser||e.code!==this.props.code||e.parserSettings!==this.props.parserSettings?this._parse(e.parser,e.code,e.parserSettings):e.cursor!==this.props.cursor&&this.setState({focusPath:this.state.parseError||null==e.cursor?[]:(0,v.default)(this.state.ast,e.cursor,e.parser)})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return t.ast!==this.state.ast||t.parseError!==this.state.parseError||t.focusPath!==this.state.focusPath||t.output!==this.state.output}},{key:"_parse",value:function _parse(e,t,r){var n=this;if(e&&null!=t){var a=Date.now();(function parse(e,t,r){return e._promise||(e._promise=new Promise(e.loadParser)),e._promise.then(function(n){return e.parse(n,t,r||e.getDefaultOptions())})})(e,t,r).then(function(r){e!==n.props.parser&&t!==n.props.code||(n.setState({parseTime:Date.now()-a,ast:r,focusPath:null!=n.props.cursor?(0,v.default)(r,n.props.cursor,e):[],parseError:null}),n.props.onParseError(null))},function(e){console.error(e),n.setState({parseError:e,parseTime:null}),n.props.onParseError(e)})}}},{key:"_changeOutput",value:function _changeOutput(e){this.setState({output:e.target.value})}},{key:"render",value:function render(){var e,t=this;this.state.parseError?e=f.default.createElement("div",{style:{padding:20}},this.state.parseError.message):this.state.ast&&(e=f.default.createElement(p.default[this.state.output],{ast:this.state.ast,focusPath:this.state.focusPath,parser:this.props.parser}));var r=p.default.map(function(e,r){return f.default.createElement("button",{key:r,value:r,onClick:t._changeOutput,className:(0,d.default)({active:t.state.output==r})},e.name)});return f.default.createElement("div",{className:"output highlight"},f.default.createElement("div",{className:"toolbar"},r,f.default.createElement("span",{className:"time"},function formatTime(e){return e?e<1e3?"".concat(e,"ms"):"".concat((e/1e3).toFixed(2),"s"):null}(this.state.parseTime))),e)}}]),ASTOutput}(f.default.Component);t.default=h,h.propTypes={code:c.default.string,parser:c.default.object.isRequired,parserSettings:c.default.object,cursor:c.default.any,onParseError:c.default.func.isRequired}},"Y+Aq":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.setParser=function setParser(e){return{type:h,parser:e}},t.setParserSettings=function setParserSettings(e){return{type:g,settings:e}},t.save=function save(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:R,fork:e}},t.startSave=function startSave(e){return{type:P,fork:e}},t.endSave=function endSave(e){return{type:N,fork:e}},t.setSnippet=function setSnippet(e){return{type:E,revision:e}},t.setParseError=function setParseError(e){return{type:m,error:e}},t.selectCategory=function selectCategory(e){return{type:f,category:e}},t.clearSnippet=function clearSnippet(){return{type:c}},t.startLoadingSnippet=function startLoadingSnippet(){return{type:s}},t.doneLoadingSnippet=function doneLoadingSnippet(){return{type:l}},t.loadSnippet=function loadSnippet(){return{type:u}},t.openSettingsDialog=function openSettingsDialog(){return{type:y}},t.closeSettingsDialog=function closeSettingsDialog(){return{type:S}},t.openShareDialog=function openShareDialog(){return{type:_}},t.closeShareDialog=function closeShareDialog(){return{type:T}},t.setError=function setError(e){return{type:o,error:e}},t.clearError=function clearError(){return{type:i}},t.selectTransformer=function selectTransformer(e){return{type:d,transformer:e}},t.hideTransformer=function hideTransformer(){return{type:p}},t.setTransformState=function setTransformState(e){return(0,a.default)({type:v},e)},t.setCode=function setCode(e){return(0,a.default)({type:b},e)},t.setCursor=function setCursor(e){return{type:k,cursor:e}},t.dropText=function dropText(e,t){return{type:C,text:e,categoryId:t}},t.reset=function reset(){return{type:O}},t.toggleFormatting=function toggleFormatting(){return{type:I}},t.setKeyMap=function setKeyMap(e){return{type:D,keyMap:e}},t.SET_KEY_MAP=t.TOGGLE_FORMATTING=t.RESET=t.END_SAVE=t.START_SAVE=t.SAVE=t.DROP_TEXT=t.SET_CURSOR=t.SET_CODE=t.CLOSE_SHARE_DIALOG=t.OPEN_SHARE_DIALOG=t.CLOSE_SETTINGS_DIALOG=t.OPEN_SETTINGS_DIALOG=t.SET_SNIPPET=t.SET_PARSE_ERROR=t.SET_PARSER_SETTINGS=t.SET_PARSER=t.SET_TRANSFORM=t.HIDE_TRANSFORMER=t.SELECT_TRANSFORMER=t.SELECT_CATEGORY=t.CLEAR_SNIPPET=t.DONE_LOADING_SNIPPET=t.START_LOADING_SNIPPET=t.LOAD_SNIPPET=t.CLEAR_ERROR=t.SET_ERROR=void 0;var a=n(r("MVZn")),o="SET_ERROR";t.SET_ERROR=o;var i="CLEAR_ERROR";t.CLEAR_ERROR=i;var u="LOAD_SNIPPET";t.LOAD_SNIPPET=u;var s="START_LOADING_SNIPPET";t.START_LOADING_SNIPPET=s;var l="DONE_LOADING_SNIPPET";t.DONE_LOADING_SNIPPET=l;var c="CLEAR_SNIPPET";t.CLEAR_SNIPPET=c;var f="CHANGE_CATEGORY";t.SELECT_CATEGORY=f;var d="SELECT_TRANSFORMER";t.SELECT_TRANSFORMER=d;var p="HIDE_TRANSFORMER";t.HIDE_TRANSFORMER=p;var v="SET_TRANSFORM";t.SET_TRANSFORM=v;var h="SET_PARSER";t.SET_PARSER=h;var g="SET_PARSER_SETTINGS";t.SET_PARSER_SETTINGS=g;var m="SET_PARSE_ERROR";t.SET_PARSE_ERROR=m;var E="SET_SNIPPET";t.SET_SNIPPET=E;var y="OPEN_SETTINGS_DIALOG";t.OPEN_SETTINGS_DIALOG=y;var S="CLOSE_SETTINGS_DIALOG";t.CLOSE_SETTINGS_DIALOG=S;var _="OPEN_SHARE_DIALOG";t.OPEN_SHARE_DIALOG=_;var T="CLOSE_SHARE_DIALOG";t.CLOSE_SHARE_DIALOG=T;var b="SET_CODE";t.SET_CODE=b;var k="SET_CURSOR";t.SET_CURSOR=k;var C="DROP_TEXT";t.DROP_TEXT=C;var R="SAVE";t.SAVE=R;var P="START_SAVE";t.START_SAVE=P;var N="END_SAVE";t.END_SAVE=N;var O="RESET";t.RESET=O;var I="TOGGLE_FORMATTING";t.TOGGLE_FORMATTING=I;var D="SET_KEY_MAP";t.SET_KEY_MAP=D},cL48:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=n(r("TSYQ")),p=r("hN6J"),v={javascript:"fa-jsfiddle",css:"fa-css3",graphql:"icon-GraphQL_Logo",handlebars:"icon-handlebars",htmlmixed:"fa-html5",icu:"icon-icu",sql:"fa-database","text/x-scala":"icon-scala",webidl:"fa-th-list",yaml:"fa-yc"},h=function(e){function CategoryButton(e){var t;return(0,a.default)(this,CategoryButton),(t=(0,i.default)(this,(0,u.default)(CategoryButton).call(this,e)))._onClick=t._onClick.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(CategoryButton,e),(0,o.default)(CategoryButton,[{key:"_onClick",value:function _onClick(e){var t=e.currentTarget.getAttribute("data-id");this.props.onCategoryChange((0,p.getCategoryByID)(t))}},{key:"render",value:function render(){var e=this;return f.default.createElement("div",{className:"button menuButton categoryButton"},f.default.createElement("span",null,f.default.createElement("i",{className:(0,d.default)(v[this.props.category.id]||"fa-file-o",{fa:!0,"fa-lg":!0,"fa-fw":!0})})," ",this.props.category.displayName),f.default.createElement("ul",null,p.categories.map(function(t){return f.default.createElement("li",{key:t.id,onClick:e._onClick,"data-id":t.id},f.default.createElement("button",{type:"button"},f.default.createElement("i",{className:(0,d.default)(v[t.id]||"fa-file-o",{fa:!0,"fa-fw":!0})})," ",t.displayName))})))}}]),CategoryButton}(f.default.Component);t.default=h,h.propTypes={onCategoryChange:c.default.func.isRequired,category:c.default.object.isRequired}},d3et:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattingState=function getFormattingState(e){return e.enableFormatting},t.getCursor=function getCursor(e){return e.cursor},t.getError=function getError(e){return e.error},t.isLoadingSnippet=function isLoadingSnippet(e){return e.loadingSnippet},t.showSettingsDialog=function showSettingsDialog(e){return e.showSettingsDialog},t.showShareDialog=function showShareDialog(e){return e.showShareDialog},t.isForking=function isForking(e){return e.forking},t.isSaving=function isSaving(e){return e.saving},t.getParser=getParser,t.getParserSettings=getParserSettings,t.getParseError=function getParseError(e){return e.workbench.parseError},t.getRevision=getRevision,t.getCode=getCode,t.getInitialCode=getInitialCode,t.getKeyMap=function getKeyMap(e){return e.workbench.keyMap},t.getTransformCode=getTransformCode,t.getInitialTransformCode=getInitialTransformCode,t.getTransformer=function getTransformer(e){return(0,i.getTransformerByID)(e.workbench.transform.transformer)},t.showTransformer=showTransformer,t.canSave=t.canSaveTransform=t.canFork=void 0;var a=r("peh1"),o=n(r("XaGS")),i=r("hN6J");function getParser(e){return(0,i.getParserByID)(e.workbench.parser)}function getParserSettings(e){return e.workbench.parserSettings}function getRevision(e){return e.activeRevision}function getCode(e){return e.workbench.code}function getInitialCode(e){return e.workbench.initialCode}var u=(0,a.createSelector)([getCode,getInitialCode],function(e,t){return e!==t});function getTransformCode(e){return e.workbench.transform.code}function getInitialTransformCode(e){return e.workbench.transform.initialCode}function showTransformer(e){return e.showTransformPanel}var s=(0,a.createSelector)([getTransformCode,getInitialTransformCode],function(e,t){return e!==t}),l=(0,a.createSelector)([getRevision],function(e){return!!e});t.canFork=l;var c=(0,a.createSelector)([getRevision,u],function(e,t){return!e||t}),f=(0,a.createSelector)([showTransformer,s],function(e,t){return e&&t});t.canSaveTransform=f;var d=(0,a.createSelector)([getParserSettings,getRevision,getParser],function(e,t,r){var n=t&&t.getParserSettings();return!!t&&(r.id!==t.getParserID()||!!n&&!(0,o.default)(e,n))}),p=(0,a.createSelector)([getRevision,c,f,d],function(e,t,r,n){return(t||r||n)&&(!e||e.canSave())});t.canSave=p},e82i:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("WeJq")),c=n(r("17x9")),f=n(r("q1tI")),d=n(r("3/DG")),p=function(e){function JSON(){return(0,a.default)(this,JSON),(0,i.default)(this,(0,u.default)(JSON).apply(this,arguments))}return(0,s.default)(JSON,e),(0,o.default)(JSON,[{key:"render",value:function render(){return f.default.createElement(l.default,{className:"container",value:(0,d.default)(this.props.ast,null,2)})}}]),JSON}(f.default.Component);t.default=p,p.propTypes={ast:c.default.oneOfType([c.default.array,c.default.object])}},eC9q:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("e82i")),o=[n(r("UGRl")).default,a.default];t.default=o},fQDW:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=function(e){function SettingsDialog(e){var t;return(0,a.default)(this,SettingsDialog),(t=(0,i.default)(this,(0,u.default)(SettingsDialog).call(this,e)))._outerClick=t._outerClick.bind((0,l.default)((0,l.default)(t))),t._onChange=t._onChange.bind((0,l.default)((0,l.default)(t))),t._reset=t._reset.bind((0,l.default)((0,l.default)(t))),t._saveAndClose=t._saveAndClose.bind((0,l.default)((0,l.default)(t))),t.state={parserSettings:t.props.parserSettings},t}return(0,s.default)(SettingsDialog,e),(0,o.default)(SettingsDialog,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){this.setState({parserSettings:e.parserSettings})}},{key:"_outerClick",value:function _outerClick(e){e.target===document.getElementById("SettingsDialog")&&this._saveAndClose()}},{key:"_onChange",value:function _onChange(e){this.setState({parserSettings:e})}},{key:"_saveAndClose",value:function _saveAndClose(){this.props.onSave(this.props.parser,this.state.parserSettings),this.props.onWantToClose()}},{key:"_reset",value:function _reset(){this.setState({parserSettings:{}})}},{key:"render",value:function render(){return this.props.visible&&this.props.parser.renderSettings?f.default.createElement("div",{id:"SettingsDialog",className:"dialog",onClick:this._outerClick},f.default.createElement("div",{className:"inner"},f.default.createElement("div",{className:"header"},f.default.createElement("h3",null,this.props.parser.displayName," Settings")),f.default.createElement("div",{className:"body"},this.props.parser.renderSettings(this.state.parserSettings,this._onChange)),f.default.createElement("div",{className:"footer"},f.default.createElement("button",{style:{marginRight:10},onClick:this._reset},"Reset"),f.default.createElement("button",{onClick:this._saveAndClose},"Close")))):null}}]),SettingsDialog}(f.default.Component);t.default=d,d.propTypes={onSave:c.default.func,onWantToClose:c.default.func,visible:c.default.bool,parser:c.default.object.isRequired,parserSettings:c.default.object}},gcGx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileExtension=t.mimeTypes=t.displayName=t.id=void 0,r("+dQi");t.id="javascript";t.displayName="tak-lang";t.mimeTypes=["text/javascript"];t.fileExtension="js"},gjtA:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.logEvent=function logEvent(t,r,n){e.ga("send","event",t,r,n)},t.logError=function logError(t,r){e.ga("send","exception",{exDescription:t,exFatal:r})}}).call(this,r("yLpj"))},hN6J:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultCategory=getDefaultCategory,t.getDefaultParser=function getDefaultParser(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:getDefaultCategory()).parsers.filter(function(e){return e.showInMenu})[0]},t.getCategoryByID=function getCategoryByID(e){return u[e]},t.getParserByID=function getParserByID(e){return s[e]},t.getTransformerByID=function getTransformerByID(e){return l[e]},t.categories=void 0;var a=n(r("J4zp")),o=r("lkoZ"),i=o.keys().map(function(e){return e.split("/").slice(1)}),u={},s={},l={},c=new Set(["index.js","codeExample.txt","transformers","utils"]),f=i.filter(function(e){return"index.js"===e[1]}).map(function(e){var t=(0,a.default)(e,1)[0],r=o("./".concat(t,"/index.js"));u[r.id]=r,r.codeExample=o("./".concat(t,"/codeExample.txt"));var n=i.filter(function(e){return(0,a.default)(e,1)[0]===t}).map(function(e){return e.slice(1)});return r.parsers=n.filter(function(e){var t=(0,a.default)(e,1)[0];return!c.has(t)}).map(function(e){var n=(0,a.default)(e,1)[0],i=o("./".concat(t,"/").concat(n));return i=i.__esModule?i.default:i,s[i.id]=i,i.category=r,i}),r.transformers=n.filter(function(e){var t=(0,a.default)(e,3),r=t[0],n=t[2];return"transformers"===r&&"index.js"===n}).map(function(e){var r=(0,a.default)(e,2)[1],n="./".concat(t,"/transformers/").concat(r),i=o("".concat(n,"/index.js"));return i=i.__esModule?i.default:i,l[i.id]=i,i.defaultTransform=o("".concat(n,"/codeExample.txt")),i}),r});function getDefaultCategory(){return u.javascript}t.categories=f},j4Rz:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("9h1d")),f=n(r("WeJq")),d=n(r("17x9")),p=n(r("q1tI")),v=r("qJsZ"),h=n(r("3/DG"));function transform(e,t,r){return e._promise||(e._promise=new Promise(e.loadTransformer)),e._promise.then(function(n){var a=e.transform(n,t,r);return Promise.resolve(a).then(function(e){var t=null;return"string"!=typeof e&&(e.map&&(t=new v.SourceMapConsumer(e.map)),e=e.code),{result:e,map:t}})})}var g=function(e){function TransformOutput(e){var t;return(0,a.default)(this,TransformOutput),(t=(0,i.default)(this,(0,u.default)(TransformOutput).call(this,e))).state={result:"",map:null,error:null},t._posFromIndex=t._posFromIndex.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(TransformOutput,e),(0,o.default)(TransformOutput,[{key:"componentDidMount",value:function componentDidMount(){var e=this;transform(this.props.transformer,this.props.transformCode,this.props.code).then(function(t){var r=t.result,n=t.map;return e.setState({result:r,map:n})},function(t){return e.setState({error:t})})}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){var t=this;this.props.transformCode===e.transformCode&&this.props.code===e.code&&this.props.transformer===e.transformer||(console.clear&&console.clear(),transform(e.transformer,e.transformCode,e.code).then(function(e){return{result:e.result,map:e.map,error:null}},function(e){return console.error(e),{error:e}}).then(function(e){return t.setState(e)}))}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return this.state.result!==t.result||this.state.error!==t.error}},{key:"_posFromIndex",value:function _posFromIndex(e){var t=this.state.map;if(t){var r=t.sourcesContent[0];if(0===e)return{line:0,ch:0};for(var n=r.lastIndexOf("\n",e-1),a=e-n-1,o=1;n>0;)n=r.lastIndexOf("\n",n-1),o++;0===n&&o++;var i=t.generatedPositionFor({line:o,column:a,source:t.sources[0]});if(o=i.line,a=i.column,null!==o&&null!==a)return{line:o-1,ch:a}}}},{key:"render",value:function render(){return p.default.createElement("div",{className:"output highlight"},this.state.error?p.default.createElement(c.default,{highlight:!1,key:"error",lineNumbers:!1,readOnly:!0,value:this.state.error.message}):"string"==typeof this.state.result?p.default.createElement(c.default,{posFromIndex:this._posFromIndex,mode:this.props.mode,key:"output",readOnly:!0,value:this.state.result}):p.default.createElement(f.default,{className:"container no-toolbar",value:(0,h.default)(this.state.result,null,2)}))}}]),TransformOutput}(p.default.Component);t.default=g,g.propTypes={transformer:d.default.object,transformCode:d.default.string,mode:d.default.string,code:d.default.string}},jFcq:function(e,t){e.exports="// this is a comment\n\nlet fib = (n) => {\n  if (n == 0 || n == 1) {\n    n\n  } else {\n    fib(n - 1) + fib(n - 2)\n  }\n}\n\nexport let main = () => {\n  let result = fib(10)\n\n  result + 10\n}\n"},jvdM:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("MVZn")),o=n(r("Jac2")),i=n(r("p8oA")),u="tak-lang",s=(0,a.default)({},o.default,{id:u,displayName:u,version:i.default.version,homepage:i.default.homepage,locationProps:new Set(["start","end"]),loadParser:function loadParser(e){r.e(7).then(function(){var t=[r("8q0k")];e.apply(null,t)}.bind(this)).catch(r.oe)},parse:function parse(e,t){return e.tryParse(t)},getNodeName:function getNodeName(e){return e.type},nodeToRange:function nodeToRange(e){if(void 0!==e.start&&void 0!==e.end)return[e.start.offset,e.end.offset]}});t.default=s},l7tp:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("17x9")),c=n(r("q1tI")),f=function(e){function CompactArrayView(){return(0,a.default)(this,CompactArrayView),(0,i.default)(this,(0,u.default)(CompactArrayView).apply(this,arguments))}return(0,s.default)(CompactArrayView,e),(0,o.default)(CompactArrayView,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return e.array.length!==this.props.array.length}},{key:"render",value:function render(){var e=this.props.array.length;return 0===e?c.default.createElement("span",{className:"p"},"[ ]"):c.default.createElement("span",null,c.default.createElement("span",{className:"p"},"["),c.default.createElement("span",{className:"compact placeholder ge",onClick:this.props.onClick},e+" element"+(e>1?"s":"")),c.default.createElement("span",{className:"p"},"]"))}}]),CompactArrayView}(c.default.Component);t.default=f,f.propTypes={array:l.default.oneOfType([l.default.array,l.default.shape({length:l.default.number})]).isRequired,onClick:l.default.func}},lkoZ:function(e,t,r){var n={"./tak/codeExample.txt":"jFcq","./tak/index.js":"gcGx","./tak/tak-to-ast.js":"jvdM"};function webpackContext(e){var t=webpackContextResolve(e);return r(t)}function webpackContextResolve(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="lkoZ"},"m/HS":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=n(r("a1gu")),u=n(r("Nsbk")),s=n(r("7W2i")),l=n(r("PJYZ")),c=n(r("17x9")),f=n(r("q1tI")),d=function(e){function ShareDialog(e){var t;return(0,a.default)(this,ShareDialog),(t=(0,i.default)(this,(0,u.default)(ShareDialog).call(this,e)))._outerClick=t._outerClick.bind((0,l.default)((0,l.default)(t))),t}return(0,s.default)(ShareDialog,e),(0,o.default)(ShareDialog,[{key:"_outerClick",value:function _outerClick(e){e.target===document.getElementById("ShareDialog")&&this.props.onWantToClose()}},{key:"render",value:function render(){return this.props.visible?f.default.createElement("div",{id:"ShareDialog",className:"dialog",onClick:this._outerClick},f.default.createElement("div",{className:"inner",style:{maxWidth:"80%",width:600}},f.default.createElement("div",{className:"body"},this.props.snippet.getShareInfo()),f.default.createElement("div",{className:"footer"},f.default.createElement("button",{onClick:this.props.onWantToClose},"Close")))):null}}]),ShareDialog}(f.default.Component);t.default=d,d.propTypes={onWantToClose:c.default.func.isRequired,visible:c.default.bool.isRequired,snippet:c.default.object}},mLOA:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lwsE")),o=n(r("W8MJ")),i=function(){function StorageHandler(e){(0,a.default)(this,StorageHandler),this._backends=e}return(0,o.default)(StorageHandler,[{key:"_first",value:function _first(){return this._backends[0]}},{key:"_owns",value:function _owns(e){var t=!0,r=!1,n=void 0;try{for(var a,o=this._backends[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;if(i.owns(e))return i}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return null}},{key:"updateHash",value:function updateHash(t){e.location.hash=t.getPath()}},{key:"fetchFromURL",value:function fetchFromURL(){if(/^#?\/?$/.test(e.location.hash))return Promise.resolve(null);var t=!0,r=!1,n=void 0;try{for(var a,o=this._backends[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;if(i.matchesURL())return i.fetchFromURL()}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return Promise.reject(new Error("Unknown URL format."))}},{key:"create",value:function create(e){return this._first().create(e)}},{key:"update",value:function update(e,t){return this._first().update(e,t)}},{key:"fork",value:function fork(e,t){return this._first().fork(e,t)}}]),StorageHandler}();t.default=i}).call(this,r("yLpj"))},"nH/0":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),o=n(r("QILm")),i=n(r("lwsE")),u=n(r("W8MJ")),s=n(r("a1gu")),l=n(r("Nsbk")),c=n(r("7W2i")),f=n(r("17x9")),d=n(r("q1tI")),p=r("hN6J");var v=new Map([["application/json","JSON"],["text/plain","TEXT"]]);p.categories.forEach(function(e){var t=e.id;e.mimeTypes.forEach(function(e){v.set(e,t)})});var h=function(e){function PasteDropTarget(e){var t;return(0,i.default)(this,PasteDropTarget),(t=(0,s.default)(this,(0,l.default)(PasteDropTarget).call(this,e))).state={dragging:!1},t}return(0,c.default)(PasteDropTarget,e),(0,u.default)(PasteDropTarget,[{key:"_onASTError",value:function _onASTError(e,t,r){throw this.props.onError(e,t,"Cannot process pasted AST: ".concat(r.message)),r}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this._listeners=[];var t,r=this.container;this._bindListener(document,"paste",function(t){if(t.clipboardData){var r=t.clipboardData;!r.types.indexOf||!r.types.indexOf("text/plain")>-1||(t.stopPropagation(),t.preventDefault(),e._jsonToCode(r.getData("text/plain")).then(function(r){return e.props.onText("paste",t,r)},function(r){"TEXTAREA"!==t.target.nodeName&&e._onASTError("paste",t,r)}))}},!0),this._bindListener(r,"dragenter",function(r){clearTimeout(t),r.preventDefault(),e.setState({dragging:!0})},!0),this._bindListener(r,"dragover",function(e){clearTimeout(t),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!0),this._bindListener(r,"drop",function(t){e.setState({dragging:!1});var r=t.dataTransfer.files[0],n=v.get(r.type);if(n&&e.props.onText){t.preventDefault(),t.stopPropagation();var a=new FileReader;a.onload=function(t){var r=t.target.result;"JSON"!==n&&"TEXT"!==n||(r=e._jsonToCode(r).then(function(e){return n="javascript",e},function(a){if("JSON"!==n)return n=void 0,r;e._onASTError("drop",t,a)})),Promise.resolve(r).then(function(r){e.props.onText("drop",t,r,n)})},a.readAsText(r)}},!0),this._bindListener(r,"dragleave",function(){clearTimeout(t),t=setTimeout(function(){return e.setState({dragging:!1})},50)},!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=!0,t=!1,r=void 0;try{for(var n,a=this._listeners[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){(0,n.value)()}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}this._listeners=null}},{key:"_jsonToCode",value:function _jsonToCode(e){var t;try{t=JSON.parse(e)}catch(t){return Promise.resolve(e)}return function importEscodegen(){return new Promise(function(e){return r.e(5).then(function(){var t=[r("aMAw")];e.apply(null,t)}.bind(this)).catch(r.oe)})}().then(function(e){return e.generate(t,{format:{indent:{style:"  "}}})})}},{key:"_bindListener",value:function _bindListener(e,t,r,n){var a=this,o=!0,i=!1,u=void 0;try{for(var s,l=function _loop(){var t=s.value;e.addEventListener(t,r,n),a._listeners.push(function(){return e.removeEventListener(t,r,n)})},c=t.split(/\s+/)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)l()}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}}},{key:"render",value:function render(){var e=this,t=this.props,r=t.children,n=(t.onText,(0,o.default)(t,["children","onText"])),i=this.state.dragging?d.default.createElement("div",{className:"dropIndicator"},d.default.createElement("div",null,"Drop the code or (JSON-encoded) AST file here")):null;return d.default.createElement("div",(0,a.default)({ref:function ref(t){return e.container=t}},n),i,r)}}]),PasteDropTarget}(d.default.Component);t.default=h,h.propTypes={onText:f.default.func,onError:f.default.func,children:f.default.node}},"r/dV":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.readState=t.writeState=void 0;var r=e.localStorage,n="explorerSettingsV1",a=function noop(){},o=r?function(e){try{r.setItem(n,JSON.stringify(e))}catch(e){console.warn("Unable to write to local storage.")}}:a;t.writeState=o;var i=r?function(){try{var e=r.getItem(n);if(e)return JSON.parse(e)}catch(e){console.warn("Unable to read from local storage.")}}:a;t.readState=i}).call(this,r("yLpj"))},rLSY:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=r("Y+Aq"),i=r("d3et"),u=n(r("m/HS"));var s=(0,a.connect)(function mapStateToProps(e){return{visible:(0,i.showShareDialog)(e),snippet:(0,i.getRevision)(e)}},function mapDispatchToProps(e){return{onWantToClose:function onWantToClose(){return e((0,o.closeShareDialog)())}}})(u.default);t.default=s},s9A2:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=PrettierButton;var a=n(r("17x9")),o=n(r("q1tI")),i=n(r("TSYQ"));function PrettierButton(e){return o.default.createElement("button",{type:"button",className:"toggleBtn",onClick:e.toggleFormatting},o.default.createElement("i",{className:(0,i.default)({fa:!0,"fa-lg":!0,"fa-toggle-off":!e.enableFormatting,"fa-toggle-on":e.enableFormatting,"fa-fw":!0})}),o.default.createElement("span",{className:"btnText"},"Prettier"))}PrettierButton.propTypes={toggleFormatting:a.default.func,enableFormatting:a.default.bool}},ts5B:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("/MKj"),o=r("Y+Aq"),i=n(r("9h1d")),u=r("d3et");var s=(0,a.connect)(function mapStateToProps(e){return{keyMap:(0,u.getKeyMap)(e),value:(0,u.getCode)(e),mode:(0,u.getParser)(e).category.id,error:(0,u.getParseError)(e)}},function mapDispatchToProps(e){return{onContentChange:function onContentChange(t){var r=t.value,n=t.cursor;e((0,o.setCode)({code:r,cursor:n}))},onActivity:function onActivity(t){return e((0,o.setCursor)(t))}}})(i.default);t.default=s},uo2T:function(e,t,r){"use strict";var n=r("284h"),a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("/MKj"),i=a(r("x6DZ")),u=r("Y+Aq"),s=n(r("d3et"));var l=(0,o.connect)(function mapStateToProps(e){return{transformer:s.getTransformer(e),defaultTransformCode:s.getInitialTransformCode(e),transformCode:s.getTransformCode(e),mode:s.getParser(e).category.id,code:s.getCode(e),enableFormatting:s.getFormattingState(e),keyMap:s.getKeyMap(e)}},function mapDispatchToProps(e){return{onContentChange:function onContentChange(t){var r=t.value,n=t.cursor;e((0,u.setTransformState)({code:r,cursor:n}))},toggleFormatting:function toggleFormatting(){e((0,u.toggleFormatting)())}}})(i.default);t.default=l},vj7y:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("MVZn")),o=n(r("lwsE")),i=n(r("W8MJ")),u=n(r("a1gu")),s=n(r("Nsbk")),l=n(r("7W2i")),c=n(r("PJYZ")),f=n(r("17x9")),d=n(r("q1tI")),p={position:"absolute",top:0,bottom:0,boxSizing:"border-box"},v={position:"absolute",left:0,right:0,boxSizing:"border-box"},h=function(t){function SplitPane(e,t){var r;return(0,o.default)(this,SplitPane),(r=(0,u.default)(this,(0,s.default)(SplitPane).call(this,e,t)))._onMouseDown=r._onMouseDown.bind((0,c.default)((0,c.default)(r))),r.state={dividerPosition:50},r}return(0,l.default)(SplitPane,t),(0,i.default)(SplitPane,[{key:"_onMouseDown",value:function _onMouseDown(){var t=this,r=this.props.vertical,n=r?e.innerHeight:e.innerWidth;e.document.body.style.cursor=r?"row-resize":"col-resize";var a=function moveHandler(e){e.preventDefault(),t.setState({dividerPosition:(r?e.pageY:e.pageX)/n*100})};document.addEventListener("mousemove",a),document.addEventListener("mouseup",function upHandler(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",upHandler),e.document.body.style.cursor="",t.props.onResize&&t.props.onResize()})}},{key:"render",value:function render(){var e,t,r,n=this.props.children,o=this.state.dividerPosition;return Array.isArray(n)&&2===n.filter(function(e){return e}).length?(this.props.vertical?(e=(0,a.default)({},v,{top:0,height:o+"%",paddingBottom:3}),t=(0,a.default)({},v,{bottom:0,height:100-o+"%",paddingTop:3}),r=(0,a.default)({},v,{top:o+"%",height:5,marginTop:-2.5,zIndex:100})):(e=(0,a.default)({},p,{left:0,width:o+"%",paddingRight:3}),t=(0,a.default)({},p,{right:0,width:100-o+"%",paddingLeft:3}),r=(0,a.default)({},p,{left:o+"%",width:5,marginLeft:-2.5,zIndex:100})),d.default.createElement("div",{className:this.props.className},d.default.createElement("div",{style:e},this.props.children[0]),d.default.createElement("div",{className:"splitpane-divider"+(this.props.vertical?" vertical":""),onMouseDown:this._onMouseDown,style:r}),d.default.createElement("div",{style:t},this.props.children[1]))):d.default.createElement("div",{className:this.props.className},d.default.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0}},this.props.children))}}]),SplitPane}(d.default.Component);t.default=h,h.propTypes={vertical:f.default.bool,className:f.default.string,children:f.default.node,onResize:f.default.func}}).call(this,r("yLpj"))},wf8H:function(e,t,r){"use strict";(function(e){var n=r("284h"),a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=_callee;var o=a(r("o0o1")),i=a(r("lSNA")),u=a(r("J4zp")),s=n(r("Y+Aq")),l=r("oZtI"),c=r("c9yz"),f=r("gjtA"),d=r("d3et"),p=o.default.mark(save),v=o.default.mark(watchSave),h=o.default.mark(goBack),g=o.default.mark(watchSnippetURI),m=o.default.mark(_callee);function save(e,t){var r,n,a,c,v,h,g,m,E,y,S,_;return o.default.wrap(function save$(o){for(;;)switch(o.prev=o.next){case 0:return r="new_revision",o.next=3,[(0,l.select)(d.getRevision),(0,l.select)(d.getParser),(0,l.select)(d.getParserSettings),(0,l.select)(d.getCode),(0,l.select)(d.getTransformCode),(0,l.select)(d.getTransformer),(0,l.select)(d.showTransformer)];case 3:if(n=o.sent,a=(0,u.default)(n,7),c=a[0],v=a[1],h=a[2],g=a[3],m=a[4],E=a[5],y=a[6],!e&&c||(r=e?"fork":"create"),S={parserID:v.id,settings:(0,i.default)({},v.id,h),versions:(0,i.default)({},v.id,v.version),filename:"source.".concat(v.category.fileExtension),code:g},y&&E&&(S.toolID=E.id,S.versions[E.id]=E.version,S.transform=m),(0,f.logEvent)("snippet",r,S.toolID),o.prev=16,!e){o.next=23;break}return o.next=20,t.fork(c,S);case 20:_=o.sent,o.next=32;break;case 23:if(!c){o.next=29;break}return o.next=26,t.update(c,S);case 26:_=o.sent,o.next=32;break;case 29:return o.next=31,t.create(S);case 31:_=o.sent;case 32:_&&t.updateHash(_),o.next=40;break;case 35:return o.prev=35,o.t0=o.catch(16),(0,f.logError)(o.t0.message),o.next=40,(0,l.put)(s.setError(o.t0));case 40:case"end":return o.stop()}},p,this,[[16,35]])}function watchSave(e,t){var r;return o.default.wrap(function watchSave$(n){for(;;)switch(n.prev=n.next){case 0:return r=t.fork,n.next=3,(0,l.put)(s.startSave(r));case 3:return n.delegateYield(save(r,e),"t0",4);case 4:return n.next=6,(0,l.put)(s.endSave(r));case 6:case"end":return n.stop()}},v,this)}var E=null;function goBack(){return o.default.wrap(function goBack$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.take)(s.CLEAR_ERROR);case 3:e.location.hash="";case 4:return t.prev=4,t.next=7,(0,l.cancelled)();case 7:if(!t.sent){t.next=8;break}case 8:return t.finish(4);case 9:case"end":return t.stop()}},h,this,[[0,,4,9]])}function watchSnippetURI(t){var r,n,a,i,p,v;return o.default.wrap(function watchSnippetURI$(o){for(;;)switch(o.prev=o.next){case 0:if(!E){o.next=3;break}return o.next=3,(0,l.cancel)(E);case 3:return o.next=5,[(0,l.select)(d.isSaving),(0,l.select)(d.isForking)];case 5:if(r=o.sent,n=(0,u.default)(r,2),a=n[0],i=n[1],!a&&!i){o.next=11;break}return o.abrupt("return");case 11:return o.next=13,(0,l.put)((0,c.batchActions)([s.setError(null),s.startLoadingSnippet()]));case 13:return o.prev=13,o.next=16,(0,l.call)(t.fetchFromURL.bind(t));case 16:p=o.sent,o.next=30;break;case 19:return o.prev=19,o.t0=o.catch(13),v="Failed to fetch revision: "+o.t0.message,(0,f.logError)(v),o.next=25,(0,l.put)((0,c.batchActions)([s.setError(new Error(v)),s.doneLoadingSnippet()]));case 25:if(!e.history){o.next=29;break}return o.next=28,(0,l.fork)(goBack);case 28:E=o.sent;case 29:return o.abrupt("return");case 30:return p&&(0,f.logEvent)("snippet","load"),o.next=33,(0,l.put)((0,c.batchActions)([p?s.setSnippet(p):s.clearSnippet(),s.doneLoadingSnippet()]));case 33:case"end":return o.stop()}},g,this,[[13,19]])}function _callee(e){return o.default.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.takeEvery)(s.LOAD_SNIPPET,watchSnippetURI,e);case 2:return t.next=4,(0,l.takeEvery)(s.SAVE,watchSave,e);case 4:case"end":return t.stop()}},m,this)}}).call(this,r("yLpj"))},x6DZ:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=Transformer;var a=n(r("9h1d")),o=n(r("QyDd")),i=n(r("17x9")),u=n(r("kRpH")),s=n(r("q1tI")),l=n(r("vj7y")),c=n(r("j4Rz")),f=n(r("s9A2"));function resize(){u.default.publish("PANEL_RESIZE")}function Transformer(e){var t=s.default.createElement("jscodeshift"===e.transformer.id?o.default:a.default,{highlight:!1,value:e.transformCode,onContentChange:e.onContentChange,enableFormatting:e.enableFormatting,keyMap:e.keyMap}),r=s.default.createElement("div",null,s.default.createElement(f.default,{toggleFormatting:e.toggleFormatting,enableFormatting:e.enableFormatting}),t);return s.default.createElement(l.default,{className:"splitpane",onResize:resize},r,s.default.createElement(c.default,{transformer:e.transformer,transformCode:e.transformCode,code:e.code,mode:e.mode,keyMap:e.keyMap}))}Transformer.propTypes={defaultTransformCode:i.default.string,transformCode:i.default.string,transformer:i.default.object,code:i.default.string,mode:i.default.string,keyMap:i.default.string,onContentChange:i.default.func,toggleFormatting:i.default.func,enableFormatting:i.default.bool}},xeTH:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function stringify(t){switch((0,a.default)(t)){case"function":return t.toString().match(/function[^(]*\([^)]*\)/)[0];case"object":return t?JSON.stringify(t,stringify):"null";case"undefined":return"undefined";case"number":return e.isNaN(t)?"NaN":t;default:return JSON.stringify(t)}};var a=n(r("cDf5"))}).call(this,r("yLpj"))}},[["ERIh",0,2,4]]]);